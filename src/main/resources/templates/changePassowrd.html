<!DOCTYPE html>
<html lang="zxx">

    <head>
        <title>修改密码</title>

        <!-- Meta-Tags -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta charset="utf-8">
        <meta name="keywords" content=""/>

        <!-- jquery -->
        <script src="/communal/jquery.min-3.2.1.js"></script>
        <!-- bootstrap css js文件 -->
        <link rel="stylesheet" href="/communal/bootstrap-3.3.7/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <script src="/communal/bootstrap-3.3.7/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <!-- 表单验证 css js文件 -->
        <link href="/communal/bootstrapValidator-0.5.3/bootstrapValidator.min.css" rel="stylesheet">
        <script src="/communal/bootstrapValidator-0.5.3/bootstrapValidator.min.js"></script>

        <script>
            addEventListener
            (
                "load",
                function ()
                {
                    setTimeout(hideURLbar, 0);
                },
                false
            );
            function hideURLbar()
            {
                window.scrollTo(0, 1);
            }
        </script>

        <link href="/page/changePassowrd/css/style.css" rel='stylesheet' type='text/css'/>

        <style>
            small.help-block
            {
                color: red!important;
            }
        </style>
    </head>

    <body>
        <header>
            <h1>修改密码</h1>
        </header>

        <div class="w3ls-contact"> <!-- form starts here -->
            <form id="main-form" action="/commonuser/changePassword" method="post">
                <div class="agile-field-txt form-group">
                    <label>旧密码:</label>
                    <input id="oldPassword" type="password" name="oldPassword"/>
                    <small id="error" style="color: red" th:text="${error}"></small>
                </div>

                <div class="agile-field-txt form-group">
                    <label>新密码:</label>
                    <input type="password" name="newPassword"/>
                </div>

                <div class="agile-field-txt form-group">
                    <label>确认新密码:</label>
                    <input type="password" name="confirmNewPassword"/>
                </div>
                
                <div class="w3ls-contact  w3l-sub">
                    <input type="submit" value="确认">
                </div>
            </form>
        </div> <!-- //form ends here -->

        <div class="copy-wthree">
            <p>
                Copyright &copy; 2019.Discipline
            </p>
        </div>
        <script>
            $('#main-form').bootstrapValidator
            (
                {
                    /*配置表单内字段的验证规则*/
                    /*js对象的key应该和name的属性值相同*/
                    fields: 
                    {
                        oldPassword:
                        {
                            validators:
                            {
                                /*不能为空*/
                                notEmpty:
                                {
                                    message:'请输入旧密码' /*这条验证不成功的提示信息*/
                                }
                            }  
                        },
                        newPassword:
                        {
                            validators:
                            {
                                notEmpty:
                                {
                                    message:'请输入新密码' /*这条验证不成功的提示信息*/
                                },
                                stringLength:
                                {
                                    min:4,
                                    max:16,
                                    message: '密码长度：4-16个字符'
                                }
                            }
                        },
                        confirmNewPassword:
                        {
                            validators:
                            {
                                notEmpty:
                                {
                                    message:'请确认新密码' /*这条验证不成功的提示信息*/
                                },
                                identical:
                                {
                                    field: 'newPassword',
                                    message: '两次输入的密码不一致'
                                }
                            }
                        }
                    }
                }
            );
        </script>

        <script>
            /*获得焦点时隐藏提框*/
            $('input').unbind('focus')
                .bind
                (
                    'focus',
                    function ()
                    {
                        $('#error').css('display', 'none');
                    }
                )
        </script>
    </body>
<!-- //Body -->

</html>